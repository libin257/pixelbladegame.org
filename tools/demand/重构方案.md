# Winter Burrow 网站重构方案

## 项目概述

将现有 Rue Valley 游戏网站模板改造为 Winter Burrow 游戏资讯站，域名 winterburrow.info。本方案严格遵循"禁止修改现有页面布局和UI风格，仅修改文案/功能或新增功能"的原则。

---

## Todo List

### Todo 1: 数据资源自动化获取与本地化存储

**参考文件:**
- `tools/demand/需求总览.md` - 了解需要获取的数据类型和来源
- `tools/demand/功能实现.md` - 数据获取方式和 JSON 结构
- `tools/demand/内页url和项目目录设计.md` - 50+ 内页所需的文章和参考链接
- `tools/demand/首页header设计实现.md` - 官方图片资源链接
- `tools/demand/首页其余部分的实现.md` - 视频和 Reddit 资源链接
- `tools/demand/UI 和背景图.md` - 背景图片下载链接

**任务说明:**

禁止手工创建示例数据或模板，所有数据必须通过自动化方式获取：

1. **图片资源下载** (存放位置: `public/images/`)
   - 官方图片资源 (从 Noodlecake CDN):
     - Hero 背景图: `https://noodlecake.com/wp-content/uploads/2025/06/WinterBurrow-Noodlecake-feature-1280x720_New-1.png`
     - 游戏截图 1: `https://noodlecake.com/wp-content/uploads/2025/06/Screenshot-208.png`
     - 游戏截图 2: `https://noodlecake.com/wp-content/uploads/2025/06/Screenshot-417.png`
   - 背景图 (从 Unsplash):
     - 雾霾冷杉林: `https://unsplash.com/photos/cuHPfeqI-tQ/download?force=true`
     - 高空雪杉: `https://unsplash.com/photos/3t78mz5oVx8/download?force=true`

2. **视频数据抓取** (存放位置: `src/data/videos.ts`)
   - 从 YouTube API 获取视频元数据：
     - 官方预告片: `IARTw2JICZU`
     - 深度评测: `Huj0WmMRiMk`
     - 完整通关: `hQqV9lA9A94`
   - 使用 `youtube-dl` 或 YouTube Data API 获取标题、描述、缩略图

3. **Reddit 讨论数据爬取** (存放位置: `src/data/reddit.ts`)
   - 使用 Reddit API 抓取热门讨论：
     - Soft-Lock 求助帖
     - Review 综合帖
     - Demo 试玩帖
   - 抓取标题、作者、时间、热度、评论数

4. **游戏数据表抓取** (存放位置: `public/data/`)
   - 从 Google Sheets 导出 CSV 并转 JSON:
     - 衣物暖值表: `https://docs.google.com/spreadsheets/d/13ko-YyLuwweD8L-ejDOo4ZPVE3vsyjAni5ioz2M5akE/export?gid=0&format=csv`
     - 配方表: `https://docs.google.com/spreadsheets/d/13ko-YyLuwweD8L-ejDOo4ZPVE3vsyjAni5ioz2M5akE/export?gid=1380093282&format=csv`
   - 生成 `warmth.json` 和 `recipes.json`

5. **文章内容爬取** (存放位置: `src/content/`)
   - 使用 Web Scraper 或 Firecrawl API 从参考链接抓取文章内容
   - 优先级 ★★★★★ 文章 (15篇)：
     - Beginner Guide: `https://intoindiegames.com/walkthroughs/tips-tricks/winter-burrow-complete-beginners-guide-and-tips/`
     - Map Guide: Reddit 讨论串
     - Pickaxe Guide: `https://allthings.how/winter-burrow-pickaxe-get-the-sandstone-tool-and-plan-for-granite-upgrades/`
     - Granite Guide: `https://intoindiegames.com/walkthroughs/winter-burrow-walkthrough-chasing-the-owl/`
     - Warmth Guide: `https://winterburrow.net/how-to-stay-warm-in-winter-burrow`
     - Walkthrough: `https://intoindiegames.com/walkthroughs/winter-burrow-walkthrough-starting-out/`
     - Switch Review: `https://www.nintendolife.com/reviews/switch-eshop/winter-burrow`
     - PC Review: `https://the-indie-in-former.com/2025/11/12/winter-burrow-review-warmth-to-keep-the-cold-at-bay/`
     - 其他优先级文章...
   - 转换为 MDX 格式，包含正确的 frontmatter

6. **自动化脚本创建** (存放位置: `scripts/`)
   - `fetch-images.js` - 批量下载图片
   - `fetch-youtube.js` - 获取 YouTube 视频数据
   - `fetch-reddit.js` - 抓取 Reddit 讨论
   - `fetch-sheets.js` - 导出 Google Sheets 数据
   - `scrape-articles.js` - 爬取参考文章内容
   - `generate-warmth-matrix.js` - 生成暖值矩阵数据
   - `build-all-data.sh` - 一键执行所有数据获取

**验收标准:**
- 所有图片下载到 `public/images/` 并可访问
- 所有数据文件生成到 `public/data/` 和 `src/data/`
- 所有文章内容生成为 MDX 文件并包含完整内容（非模板）
- 可通过 `npm run fetch:all` 一键重新获取所有数据

---

### Todo 2: 项目基础信息替换

**参考文件:**
- `tools/demand/0_需求.md` - 域名、游戏名称、分析代码
- `tools/demand/TEMPLATE_GUIDE_CN.md` - 模板替换指南

**任务说明:**

1. 修改 `package.json`:
   - 项目名称改为 `winter-burrow-info`

2. 修改 `src/app/layout.tsx`:
   - 标题: "Winter Burrow - Cozy Survival Guide & Wiki"
   - 描述: "Complete Winter Burrow guide with beginner tips, crafting recipes, warmth calculator, and interactive map. Survive the frozen wilderness!"
   - 更新背景图片路径为新下载的雪林背景
   - 集成 Google Analytics (G-CHJNYQP9VV)
   - 集成 Microsoft Clarity (u7gvxvdx03)

3. 修改 `.env.local`:
   - 添加环境变量形式的分析代码配置

**验收标准:**
- 网站标题和描述已更新
- Google Analytics 和 Clarity 代码已集成
- 背景图片显示正确

---

### Todo 3: 首页 Hero 区改造

**参考文件:**
- `tools/demand/首页header设计实现.md` - Hero 区文案和按钮设计
- `tools/demand/UI 和背景图.md` - UI 风格和颜色

**任务说明:**

**保持现有布局不变**，仅修改文案和链接：

1. 修改 `src/app/page.tsx` Hero Section:
   - H1: "Winter Burrow"
   - H2: "Master the frozen wilderness in just 3 minutes"
   - 副标题: "Gather resources, craft lifesaving tools, and out-cozy the cold—all while solving Auntie's disappearance."
   - 描述段落: 使用需求文档中的游戏介绍

2. 更新 CTA 按钮（保持数量和布局）:
   - 按钮 1: "3-Minute Starter Guide" → `/guides/beginner/`
   - 按钮 2: "Interactive Map" → `/guides/map/`
   - 按钮 3: "Crafting Calculator" → `/warmth-tool/`

3. 更新 Hero 图片:
   - 使用下载的官方 Key Art

**验收标准:**
- 文案已更新为 Winter Burrow
- 所有按钮链接正确
- Hero 图片显示官方素材

---

### Todo 4: 快速导航区改造

**参考文件:**
- `tools/demand/首页其余部分的实现.md` - 快速导航设计
- `tools/demand/需求总览.md` - 6 条内链设计

**任务说明:**

**保持现有 6 卡片网格布局**，仅修改内容：

1. 修改 `src/app/page.tsx` quickLinks 数组:
   ```typescript
   const quickLinks = [
     {
       title: "3-Minute Starter Guide",
       subtitle: "Survive Your First Night",
       url: "/guides/beginner/"
     },
     {
       title: "Interactive Map",
       subtitle: "Never Get Lost Again",
       url: "/guides/map/"
     },
     {
       title: "Crafting Calculator",
       subtitle: "Find Recipes Instantly",
       url: "/warmth-tool/"
     },
     {
       title: "Best Price Tracker",
       subtitle: "Compare All Platforms",
       url: "/faq/price/"
     },
     {
       title: "Full Wiki Index",
       subtitle: "All Systems & Mechanics",
       url: "/guides/wiki/"
     },
     {
       title: "Patch Notes",
       subtitle: "Latest Bug Fixes",
       url: "/news/patch-notes/"
     }
   ]
   ```

**验收标准:**
- 6 个导航卡片文案已更新
- URL 链接指向正确路径
- 布局保持不变

---

### Todo 5: 核心特性区改造

**参考文件:**
- `tools/demand/需求总览.md` - 游戏核心玩法

**任务说明:**

**保持现有 3 卡片布局**，仅替换内容：

1. 修改 `src/app/page.tsx` 核心特性区:
   - 标题: "Winter Burrow Core Features"
   - 副标题: "Why This Cozy Survival Game Is Worth Playing"

2. 更新 3 个特性卡片:
   - 特性 1: "Warmth System" - 体温机制详解
   - 特性 2: "Resource Management" - 饥饿、体力、睡眠循环
   - 特性 3: "Exploration & Crafting" - 无地图探索与道具解锁链

**验收标准:**
- 特性描述符合 Winter Burrow 游戏机制
- 布局不变

---

### Todo 6: FAQ 区更新

**参考文件:**
- `tools/demand/需求总览.md` - 玩家痛点
- `tools/demand/首页其余部分的实现.md` - FAQ 设计

**任务说明:**

**保持现有手风琴布局**，更新 4-5 个问题：

1. 修改 `src/app/page.tsx` faqs 数组:
   - Q1: "What is Winter Burrow?" - 游戏介绍
   - Q2: "How do I start playing?" - 新手指南
   - Q3: "Why do I keep freezing to death?" - 保暖技巧
   - Q4: "How do I get a Flint Axe?" - 常见卡关解决
   - Q5: "Is there a map in the game?" - 导航问题

**验收标准:**
- FAQ 内容针对 Winter Burrow 玩家痛点
- 问题数量保持 4-5 个

---

### Todo 7: 视频和社区讨论区更新

**参考文件:**
- `tools/demand/首页其余部分的实现.md` - 视频和 Reddit 资源
- 自动获取的 `src/data/videos.ts` 和 `src/data/reddit.ts`

**任务说明:**

**保持现有左右两栏布局**，更新数据源：

1. 更新 `src/data/videos.ts`:
   - 使用 Todo 1 自动获取的 YouTube 视频数据
   - 3-4 个精选视频

2. 更新 `src/data/reddit.ts`:
   - 使用 Todo 1 自动获取的 Reddit 讨论数据
   - 4-5 个热门帖子

3. 组件无需修改:
   - `VideoSection.tsx` 和 `RedditSection.tsx` 保持不变

**验收标准:**
- 视频显示 Winter Burrow 相关内容
- Reddit 讨论链接正确
- 布局不变

---

### Todo 8: 顶部导航栏更新

**参考文件:**
- `tools/demand/首页其余部分的实现.md` - 导航栏设计
- `tools/demand/内页url和项目目录设计.md` - 8 大频道

**任务说明:**

**保持现有导航栏布局和样式**，仅修改文本和链接：

1. 修改 `src/components/Header.tsx`:
   - Logo 文字: "Winter Burrow" (替换 "Rue Valley")
   - 导航菜单项:
     - Guides → `/guides/`
     - Crafting → `/crafting/`
     - Resources → `/resources/`
     - Survival → `/survival/`
     - Reviews → `/reviews/`
     - Community → `/community/`
     - Download → `/download/`

**验收标准:**
- 导航文案已更新
- 所有链接指向正确路径
- 样式和布局不变

---

### Todo 9: 页脚更新

**参考文件:**
- `tools/demand/首页其余部分的实现.md` - 页脚设计

**任务说明:**

**保持现有页脚布局**，更新内容：

1. 修改 `src/components/Footer.tsx`:
   - 站点名称: "Winter Burrow Info"
   - 版权信息: "© 2025 winterburrow.info"
   - 更新导航链接区块:
     - Game Resources 组
     - Community 组
     - Legal 组

**验收标准:**
- 页脚文案已更新
- 链接正确
- 布局不变

---

### Todo 10: UI 主题色替换

**参考文件:**
- `tools/demand/UI 和背景图.md` - 颜色方案 JSON
- `tools/demand/TEMPLATE_GUIDE_CN.md` - 颜色替换指南

**任务说明:**

将 Rue Valley 的绿色主题替换为 Winter Burrow 的冬季暖色主题：

1. 全局搜索替换颜色代码:
   - `#25AB2B` (绿色) → `#F4B860` (琥珀橙)
   - `#1E8923` (深绿) → `#1E3A34` (深松绿)

2. 更新 Tailwind 颜色类:
   - `bg-[#25AB2B]` → `bg-[#F4B860]`
   - `hover:bg-[#1E8923]` → `hover:bg-[#1E3A34]`
   - `text-[#1E8923]` → `text-[#1E3A34]`
   - `border-[#25AB2B]` → `border-[#F4B860]`
   - `ring-[#25AB2B]` → `ring-[#F4B860]`

3. 更新背景色方案:
   - 主背景: `#EAF0F7` (雾霾蓝灰)
   - 卡片: `#FFFFFF` (白色)
   - 分隔线: `rgba(30,58,52,0.12)`

4. 可选：更新 `tailwind.config.ts` 添加自定义颜色:
   ```typescript
   colors: {
     primary: '#F4B860',
     'primary-dark': '#1E3A34',
     background: '#EAF0F7',
   }
   ```

**验收标准:**
- 所有绿色元素已替换为暖色调
- 视觉风格符合冬季主题
- 对比度满足 WCAG 4.5:1 标准

---

### Todo 11: 背景图片替换

**参考文件:**
- `tools/demand/UI 和背景图.md` - 背景图下载链接
- Todo 1 下载的背景图

**任务说明:**

1. 修改 `src/app/layout.tsx` 背景图路径:
   - 使用雾霾冷杉林图片作为全站背景
   - 设置 CSS: `background-attachment: fixed; background-size: cover;`

2. 移动端优化:
   - 添加渐变色占位以减载
   - 使用 WebP 格式

**验收标准:**
- 背景图显示雪林场景
- 桌面端和移动端均正常显示
- 文字对比度清晰可读

---

### Todo 12: 游戏特定组件处理

**参考文件:**
- `tools/demand/TEMPLATE_GUIDE_CN.md` - 组件处理指南

**任务说明:**

处理 Rue Valley 特有组件：

1. **删除 IntentionSearch 组件**:
   - 删除 `src/components/rue-valley/IntentionSearch.tsx`
   - 从 `src/app/page.tsx` 删除导入和使用
   - 删除 `public/data/intentions.json`

2. **保留通用组件**:
   - `VideoSection.tsx` - 保留并更新数据
   - `RedditSection.tsx` - 保留并更新数据

3. **重命名组件文件夹**:
   - `src/components/rue-valley/` → `src/components/winter-burrow/`
   - 更新所有导入语句

**验收标准:**
- Rue Valley 特定功能已移除
- 通用组件正常工作
- 无导入错误

---

### Todo 13: 内容目录结构创建

**参考文件:**
- `tools/demand/内页url和项目目录设计.md` - 8 大频道和 50+ 内页设计

**任务说明:**

根据内容矩阵创建完整的目录结构和路由：

1. 创建 8 大频道的二级页面:
   - `src/app/guides/page.tsx` - 综合攻略索引
   - `src/app/crafting/page.tsx` - 合成专题
   - `src/app/resources/page.tsx` - 资源点
   - `src/app/survival/page.tsx` - 生存系统
   - `src/app/platforms/page.tsx` - 平台评测
   - `src/app/reviews/page.tsx` - 游戏评测
   - `src/app/news/page.tsx` - 新闻更新
   - `src/app/community/page.tsx` - 社区内容

2. 创建三级内容页面路由:
   - `src/app/guides/beginner/page.tsx`
   - `src/app/guides/map/page.tsx`
   - `src/app/guides/walkthrough/page.tsx`
   - `src/app/crafting/tools/pickaxe/page.tsx`
   - `src/app/resources/granite/page.tsx`
   - `src/app/survival/warmth/page.tsx`
   - `src/app/platforms/switch/page.tsx`
   - ... (共 50+ 页面)

3. 每个页面从 `src/content/` 对应的 MDX 文件加载内容

**验收标准:**
- 所有频道页面已创建
- 路由结构符合 SEO 友好的 URL 设计
- 面包屑导航正确

---

### Todo 14: 优先级文章内容填充

**参考文件:**
- `tools/demand/内页url和项目目录设计.md` - 优先级 ★★★★★ 文章列表
- Todo 1 爬取的文章内容

**任务说明:**

填充 15 篇优先级最高的文章（使用 Todo 1 自动获取的内容）：

1. 创建 MDX 文件到 `src/content/guides/beginner.mdx`:
   - 使用爬取的 IntoIndieGames Beginner Guide 内容
   - 添加正确的 frontmatter (title, description, category, priority, date)

2. 重复以上步骤创建其余 14 篇优先级文章:
   - Map Guide
   - Pickaxe Guide
   - Granite Guide
   - Release Date
   - Switch Review
   - Warmth System
   - Walkthrough
   - Wiki Index
   - PC Review
   - Switch Platform
   - Xbox Platform
   - Steam Platform
   - PS5 Platform
   - Metacritic Review

3. 确保所有文章包含:
   - 完整内容（非模板或示例数据）
   - 正确的图片引用
   - 内链到其他相关文章
   - 参考来源链接

**验收标准:**
- 15 篇优先级文章内容完整
- MDX 格式正确可渲染
- 图片和链接正常工作

---

### Todo 15: 新增暖值矩阵热图功能

**参考文件:**
- `tools/demand/功能实现.md` - 暖值矩阵热图详细设计
- Todo 1 生成的 `public/data/warmth.json`

**任务说明:**

**完全新增功能**，不修改现有页面：

1. 创建新组件 `src/components/winter-burrow/WarmthHeatmap.tsx`:
   - 使用 D3.js 绘制热图
   - 横轴: 温度 -15°C → +5°C
   - 纵轴: 衣物名称
   - 颜色映射: 深蓝(冻死) → 暖橙(安全)
   - 悬停显示: "在 -5°C 可外出 12 分钟"

2. 创建新页面 `src/app/warmth-tool/page.tsx`:
   - 标题: "Warmth Calculator & Heat Map"
   - 嵌入 WarmthHeatmap 组件
   - 添加使用说明

3. 从 `public/data/warmth.json` 加载数据

4. 添加交互功能:
   - 筛选衣物 (暖值 ≥15)
   - 滚动时淡入动画

**验收标准:**
- 热图正确显示所有衣物数据
- 颜色梯度清晰美观
- 交互流畅无卡顿
- 移动端可横向滚动

---

### Todo 16: 新增配方速查器功能

**参考文件:**
- `tools/demand/功能实现.md` - 配方速查器详细设计
- Todo 1 生成的 `public/data/recipes.json`

**任务说明:**

**完全新增功能**，不修改现有页面：

1. 创建新组件 `src/components/winter-burrow/RecipeFinder.tsx`:
   - 多选下拉框选择已有素材
   - 复选框选择"拥有工作台/熔炉"
   - 动态显示可合成物品列表
   - 显示缺失材料

2. 在 `/crafting/recipes/` 页面顶部插入此组件:
   - 创建或修改 `src/app/crafting/recipes/page.tsx`
   - 顶部插入 RecipeFinder 组件
   - 底部显示完整配方表

3. 前端逻辑:
   - 加载 `recipes.json`
   - 使用 `Array.every()` 过滤可合成物品
   - 无后端调用

**验收标准:**
- 用户可选择 1-3 种素材
- 实时显示可合成物品
- 点击结果跳转到详细配方
- 性能流畅 (< 100ms 响应)

---

### Todo 17: 多语言支持检查与优化

**参考文件:**
- `tools/demand/0_需求.md` - 多语言规范

**任务说明:**

按照需求文档的多语言规范优化（当前仅支持英语）：

1. 确保 URL 结构正确:
   - 根目录直接使用英文 (不需要 /en 前缀)
   - 为后续多语言留好扩展接口

2. 创建语言选择框组件 (位于右上角):
   - 当前仅显示 "English"
   - 为后续添加其他语言预留接口

3. 检查 `next.config.js` 的 rewrite 规则:
   - 确保静态文件 (如 ads.txt) 不被错误重写
   - 排除包含点号的文件

4. 每个页面使用独立 JSON 文件存储内容:
   - 创建 `src/data/content/en/` 目录
   - 将页面文案提取到 JSON 文件

**验收标准:**
- URL 结构符合 SEO 最佳实践
- 语言选择框显示在右上角
- 内容已 JSON 化方便后续翻译

---

### Todo 18: SEO 优化实施

**参考文件:**
- `tools/demand/内页url和项目目录设计.md` - 关键词和内链策略
- `tools/demand/0_需求.md` - SEO 要求

**任务说明:**

1. 更新每个页面的 meta 标签:
   - 使用目标关键词优化标题
   - 描述 150-160 字符
   - 添加 Open Graph 和 Twitter Card

2. 实施内链策略:
   - 首页 → 8 个频道
   - 二级频道 → 三级内容页
   - 文章底部添加"相关阅读"区块
   - 面包屑导航全站统一

3. 创建 `sitemap.xml`:
   - 动态生成所有页面 URL
   - 按 priority 排序

4. 创建 `robots.txt`:
   - 允许所有搜索引擎抓取
   - 指定 sitemap 位置

5. 优化图片:
   - 所有图片添加 alt 文字
   - 使用 WebP 格式
   - 添加 lazy loading

**验收标准:**
- 每个页面有独特的 title 和 description
- 内链网络完整
- sitemap.xml 正常生成
- Lighthouse SEO 得分 > 95

---

### Todo 19: 性能优化

**参考文件:**
- `tools/demand/首页其余部分的实现.md` - 性能注意事项

**任务说明:**

1. 图片优化:
   - 使用 Next.js Image 组件
   - 设置合适的尺寸和质量
   - 懒加载非首屏图片

2. 数据预加载:
   - 使用 `getStaticProps` 预生成静态页面
   - JSON 数据在构建时加载

3. 代码分割:
   - 动态导入非关键组件
   - 懒加载 D3.js 可视化库

4. 缓存策略:
   - 设置合适的 Cache-Control headers
   - 使用 Vercel CDN

5. 字体优化:
   - 使用 `next/font` 优化字体加载
   - 预加载关键字体

**验收标准:**
- Lighthouse Performance 得分 > 90
- 首屏加载时间 < 2s
- 最大内容绘制 (LCP) < 2.5s

---

### Todo 20: 移动端适配验证

**任务说明:**

验证所有页面在移动端的显示：

1. 测试响应式布局:
   - iPhone SE (375px)
   - iPhone 12 Pro (390px)
   - iPad (768px)

2. 触摸交互优化:
   - 按钮大小 ≥ 44x44px
   - 间距足够防止误触

3. 移动端特殊处理:
   - 导航菜单折叠
   - 卡片横向滑动
   - 表格横向滚动
   - 热图缩放查看

**验收标准:**
- 所有页面在移动端正常显示
- 交互无死角
- 文字可读性良好

---

### Todo 21: 辅助功能 (Accessibility) 检查

**参考文件:**
- `tools/demand/UI 和背景图.md` - 可访问性要求

**任务说明:**

1. 颜色对比度检查:
   - 所有文本对比度 ≥ 4.5:1 (WCAG AA)
   - 交互元素对比度 ≥ 3:1

2. 键盘导航:
   - 所有交互元素可通过 Tab 访问
   - 焦点指示清晰 (2px solid #F4B860)

3. 语义化 HTML:
   - 正确使用 heading 层级
   - 表单有 label
   - 按钮有 aria-label

4. 屏幕阅读器测试:
   - 图片有 alt 文字
   - 链接文字描述清晰
   - ARIA 属性正确

**验收标准:**
- Lighthouse Accessibility 得分 100
- 通过 WAVE 工具检查无错误
- 键盘可完整操作网站

---

### Todo 22: 测试与质量保证

**任务说明:**

全面测试网站功能：

1. 功能测试:
   - 所有导航链接正常
   - 表单和搜索功能正常
   - 暖值热图交互正常
   - 配方速查器过滤正常

2. 内容测试:
   - 所有文章正常渲染
   - 图片正常显示
   - 视频正常播放
   - 外链正常打开

3. 浏览器兼容性测试:
   - Chrome (最新版)
   - Safari (最新版)
   - Firefox (最新版)
   - Edge (最新版)

4. 性能测试:
   - Lighthouse 全项目扫描
   - WebPageTest 测速
   - GTmetrix 分析

**验收标准:**
- 无 404 链接
- 无 JavaScript 错误
- 所有功能正常工作
- 主要浏览器兼容

---

### Todo 23: 最终部署验证

**参考文件:**
- `tools/demand/0_需求.md` - 部署要求

**任务说明:**

执行最终的部署前检查和部署流程：

#### 步骤 1: 关闭其他端口并启动开发服务器
```bash
# 关闭占用的端口
lsof -ti:3000 | xargs kill -9

# 启动开发服务器
npm run dev
```

获取本地访问 URL: `http://localhost:3000`

#### 步骤 2: 使用 curl 测试所有页面 URL

创建测试脚本 `test-all-urls.sh`:
```bash
#!/bin/bash
BASE_URL="http://localhost:3000"

# 测试首页
curl -I $BASE_URL

# 测试 8 大频道
curl -I $BASE_URL/guides/
curl -I $BASE_URL/crafting/
curl -I $BASE_URL/resources/
curl -I $BASE_URL/survival/
curl -I $BASE_URL/platforms/
curl -I $BASE_URL/reviews/
curl -I $BASE_URL/news/
curl -I $BASE_URL/community/

# 测试优先级三级页面 (15 篇)
curl -I $BASE_URL/guides/beginner/
curl -I $BASE_URL/guides/map/
curl -I $BASE_URL/guides/walkthrough/
curl -I $BASE_URL/crafting/tools/pickaxe/
curl -I $BASE_URL/resources/granite/
curl -I $BASE_URL/survival/warmth/
curl -I $BASE_URL/platforms/switch/
curl -I $BASE_URL/reviews/switch-review/
curl -I $BASE_URL/news/release-date/
curl -I $BASE_URL/warmth-tool/
curl -I $BASE_URL/crafting/recipes/
# ... 其他页面

# 测试静态资源
curl -I $BASE_URL/ads.txt
curl -I $BASE_URL/robots.txt
curl -I $BASE_URL/sitemap.xml
```

执行测试并保存结果:
```bash
bash test-all-urls.sh > url-test-results.txt
```

生成测试文档记录所有 URL 的返回状态。

#### 步骤 3: 代码质量检查

必须全部通过才能继续：
```bash
npm run typecheck && npm run lint && vercel build
```

如有错误，修复后重新执行，直到全部通过。

#### 步骤 4: 生成 README.md

创建项目 README 包含：
- 网站链接: https://winterburrow.info
- 网站介绍: "Complete Winter Burrow guide and wiki with beginner tips, crafting calculator, warmth heat map, and interactive tools. Your ultimate survival companion for the frozen wilderness."
- 功能特色:
  - 3-Minute Beginner's Guide
  - Interactive Warmth Calculator
  - Crafting Recipe Finder
  - Complete Walkthrough
  - Platform Reviews & Comparisons
- 技术栈: Next.js 15, React 18, Tailwind CSS, D3.js
- SEO 优化说明
- 部署信息: Vercel

#### 步骤 5: 提交代码到远程仓库

```bash
git add .
git commit -m "feat: Complete Winter Burrow website refactoring

- Replace all Rue Valley content with Winter Burrow
- Implement warmth heat map visualization
- Add crafting recipe finder tool
- Update 8 channel pages with 50+ articles
- Optimize SEO and performance
- Integrate Google Analytics and Clarity
- Update UI theme to winter cozy colors

Closes #1"

git push origin main
```

#### 步骤 6: Vercel 部署检查

1. 登录 Vercel 控制台
2. 导入 GitHub 仓库
3. 配置环境变量:
   - `NEXT_PUBLIC_GA_ID=G-CHJNYQP9VV`
   - `NEXT_PUBLIC_CLARITY_ID=u7gvxvdx03`
4. 检查构建日志
5. 验证部署成功
6. 测试生产环境 URL

#### 步骤 7: 生成基本信息 (英文)

为这个游戏站生成 4 条基本信息：

**标题 (Title):**
"Winter Burrow - Complete Survival Guide & Wiki | Tips, Crafting, Map"

**URL:**
https://winterburrow.info

**描述 (Description):**
"Master Winter Burrow with our comprehensive guide featuring beginner survival tips, interactive warmth calculator, crafting recipe finder, full walkthrough, and platform reviews. Your ultimate companion for conquering the frozen wilderness."

**锚文本 (Anchor Text):**
- "Winter Burrow Guide"
- "Winter Burrow Wiki"
- "Winter Burrow Survival Tips"
- "Winter Burrow Crafting Calculator"

**验收标准:**
- 所有 curl 测试返回 200 或 3xx
- typecheck、lint、build 全部通过
- README.md 已生成
- 代码已提交到远程仓库
- Vercel 构建成功
- 生产环境可正常访问
- 4 条基本信息已生成

---

## 实施注意事项

1. **严格遵循"不修改布局"原则**
   - 仅改文案、链接、颜色
   - 保持现有组件结构
   - 新功能完全独立创建

2. **数据优先原则**
   - 先完成 Todo 1 数据获取
   - 后续 Todo 依赖真实数据
   - 禁止使用占位数据

3. **增量测试**
   - 每完成 2-3 个 Todo 测试一次
   - 确保不引入新问题
   - 保持项目可运行状态

4. **代码质量**
   - 每次修改后运行 typecheck 和 lint
   - 保持代码风格一致
   - 添加必要的注释

5. **性能意识**
   - 优化图片大小
   - 避免不必要的重渲染
   - 合理使用缓存

6. **SEO 优先**
   - URL 结构清晰
   - 内链网络完整
   - 元数据准确

---

## 预估时间线

- Todo 1-2: 数据获取和基础配置 (4 小时)
- Todo 3-11: 内容替换和 UI 更新 (6 小时)
- Todo 12-14: 组件重构和路由创建 (4 小时)
- Todo 15-16: 新功能开发 (8 小时)
- Todo 17-21: 优化和测试 (6 小时)
- Todo 22-23: 测试和部署 (4 小时)

**总计: 约 32 小时**

---

## 成功标准

✅ 所有 Rue Valley 内容已替换为 Winter Burrow
✅ 8 大频道和 50+ 内页内容完整
✅ 暖值热图和配方速查器正常工作
✅ UI 主题色符合冬季风格
✅ 所有 URL 测试通过 (200 状态码)
✅ 代码质量检查通过 (typecheck + lint + build)
✅ Vercel 部署成功
✅ Lighthouse 得分 > 90 (Performance, SEO, Accessibility)
✅ 移动端完美适配
✅ 无 JavaScript 错误
✅ README 和基本信息已生成

---

## 风险提示

1. **数据获取失败风险**
   - Google Sheets 可能限制访问
   - 网站可能阻止爬虫
   - 解决方案: 手动下载后处理

2. **内容版权风险**
   - 爬取的文章需重写避免侵权
   - 图片需确认使用授权
   - 解决方案: 仅用作参考，重新组织内容

3. **第三方 API 依赖**
   - YouTube/Reddit API 可能变更
   - 解决方案: 本地缓存数据

4. **性能瓶颈**
   - D3.js 可能导致首屏加载慢
   - 解决方案: 懒加载和代码分割

---

**文档版本: 1.0**
**创建日期: 2025-01-17**
**最后更新: 2025-01-17**
